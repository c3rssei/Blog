<!DOCTYPE html>
<html lang="en">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Machine Learning Astronauta</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="./theme/css/poole.css" />
		<link rel="stylesheet" href="./theme/css/hyde.css" />
		<link rel="stylesheet" href="./theme/css/syntax.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

		<!-- RSS -->
		<link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
	</head>

	<body class="theme-base-0d">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="./images/">
					Machine Learning Astronauta
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead"> </p>
			<p></p>
		</div>
		<nav class="sidebar-nav">
			<a class="sidebar-nav-item" href="mailto:mariajoselaylay@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			<a class="sidebar-nav-item" href="#">
				<i class="fa fa-You can add links in your config file"></i>
			</a>
			<a class="sidebar-nav-item" href="#">
				<i class="fa fa-Another social link"></i>
			</a>
			<a class="sidebar-nav-item" href="">
				<i class="fa fa-feed"></i>
			</a>
		</nav>
	</div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">Descubrir tu data (Conceptos) Winemag-data-first150k.csv</h1>
	<span class="post-date">octubre 30, 2019</span>
	<h1><a href="#header-1"></a> Descripcion</h1>
<p>Los datos estan construidos por data objects. un data object representa una entidad, en una base de datos medica, los objetos pueden ser pacientes, tambien se conocen como muestras, ejemplos, instancias o objetos. Por ende una fila de una base de datos corresponde a un data object.</p>
<p>Referencias:</p>
<p><a href="https://relopezbriega.github.io/blog/2016/09/18/visualizaciones-de-datos-con-python/">Visualizaciones de datos con Python</a>.
https://www.ingeniovirtual.com/tipos-de-graficos-y-diagramas-para-la-visualizacion-de-datos/
https://infogram.com/es/pagina/elige-el-grafico-correcto-visualizacion-datos
https://bookdown.org/aquintela/EBE/variables-continuas.html
https://blog.adrianistan.eu/estadistica-python-pandas-numpy-scipy-parte-i</p>
<h2><a href="#header-2"></a> Atributos</h2>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/variables.jpg?raw=true"></p>
<p><a href="https://matemovil.com/wp-content/uploads/2018/08/Tipos-de-variables-estad%C3%ADsticas2.jpg">Fuente de imagen</a>.</p>
<p>Un atributo es un campo de dato, que representa una caracteristica de una muestra, por ejemplo teniendo como muestra un cliente un posible atributo seria el nombre, telefono y asi...</p>
<h3><a href="#header-3"></a> Atributos Nominales</h3>
<p>Nominal significa <strong>relativo a nombres</strong>, los valores de un atributo nominal son simbolos o nombres de cosas, cada valor representa algun tipo de categoria, por ejemplo el color de pelo, estado civil..</p>
<p>Los atributos nominales tambien pueden ser representados con numeros, por ejemplo el id de un respectivo cliente</p>
<h3><a href="#header-3"></a> Atributos Ordinales</h3>
<p>Un atributo ordinal corresponde a un atributo con un posible sentido de orden o ranking, por ejemplo la talla de ropa que va de xs,s,m,l,xl ....</p>
<h3><a href="#header-3"></a> Atributos Continuos</h3>
<p>Aquellos atributos que son continuos son aquellos que se pueden medir, como por ejemplo la temperatura, la humedad...</p>
<p>La distribucion que siguen los atributos continuos pueden ser uniforme, normal, exponencial</p>
<h3><a href="#header-3"></a> Atributos Discretos</h3>
<p>Los atributos discretos son aquellos que se pueden contar teniendo en cuenta un numero finito de cantidades, por ejemplo los años, cantidad de hijos...</p>
<h2><a href="#header-2"></a> Medición de la tendencia central</h2>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/mediadastendenciacentral.png?raw=true"> </p>
<p><a href="https://nataliaacevedo.com/estadisticasuper-basicaen-data-science/">Fuente de imagen</a>.</p>
<h3><a href="#header-3"></a> Promedio</h3>
<p>la medida mas comun y efectiva para el centro de un conjunto de datos es el promedio.</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/promedio.png?raw=true"></p>
<p>Lo cual corresponde a la sumatoria de los elementos dividos en la cantidad de elementos.</p>
<p>El promedio si bien es bastante util, es muy sensible a valores extremos, incluso una pequeña cantidad de datos extremos pueden corromper el promedio. Las cifras de un conjunto de datos que son extremadamente altas o extremadamente bajas en comparación con el resto de las cifras se llaman valores atípicos. Debido a la forma de hacer los cálculos, los valores atípicos altos tienden a subir o bajar la media</p>
<p>Para esto se puede calcular <strong>La media Truncada</strong> lo cual se refiere a remover los valores extremos, por ejemplo podemos quitar del el 2% del top y del bottom de la data.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>


<h3><a href="#header-3"></a> Mediana</h3>
<p>Para valores asimetricos la mejor medida del centro de los datos es la <strong>Mediana</strong> 
La mediana corresponde a el valor medio de una lista de valores ordenados, dejando la misma cantidad de valores a un lado que al otro, la mediana entonces corresponde al valor que separa la parte mas alta de un grafico de la parte mas baja.</p>
<p>Lo mas importante para el calculo de la mediana es que los datos este ordenados de manera ascendente o descendente. </p>
<p>Si el conjunto de datos contiene un número impar de cifras, elige la que esté exactamente en el centro. Ésa es la mediana.</p>
<p>Si el conjunto de datos contiene un número par de cifras, coge las dos del centro y calcula la media para obtener la mediana.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>


<h3><a href="#header-3"></a> Moda</h3>
<p>La moda es el valor que mas se repite dentro del conjunto de datos. a diferencia de la media no se ve afectada por valores atipicos al igual que la mediana.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="n">stats</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>


<h2><a href="#header-2"></a> Desviacion</h2>
<p>La desviacion es una medicion que indica que tan dispersos son los datos, o que tan alejados estan de la media,</p>
<p>"La desviación estándar puede ser difícil de interpretar como número aislado. Básicamente, una desviación estándar pequeña significa que la mayoría de los valores del conjunto de datos están próximos a la media de ese conjunto, y una desviación estándar grande significa que la mayoría de los valores del conjunto de datos están más alejados de la media". (Estadisticas para dummies)</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>


<h2><a href="#header-2"></a> Graficos</h2>
<p>Se utiliza como ejemplo el siguiente dataset: winemag-data_first150k.csv</p>
<p>array(['Pais', 'Descripcion', 'Designacion', 'Puntos', 'Precio',
       'Provincia', 'Region-1', 'Region-2', 'Variedad', 'Bodega'],
      dtype=object)</p>
<div class="highlight"><pre><span></span><code><span class="err">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="c">Int64Index: 99289 entries, 0 to 99288</span>
<span class="err">Data columns (total 12 columns):</span>
<span class="err">Pais            99286 non-null object</span>
<span class="err">Descripcion     99289 non-null object</span>
<span class="err">Designacion     69848 non-null object</span>
<span class="err">Puntos          99288 non-null float64</span>
<span class="err">Precio          89623 non-null float64</span>
<span class="err">Provincia       99285 non-null object</span>
<span class="err">Region-1        83229 non-null object</span>
<span class="err">Region-2        39715 non-null object</span>
<span class="err">Variedad        99288 non-null object</span>
<span class="err">Bodega          99288 non-null object</span>
<span class="err">Rango           98864 non-null category</span>
<span class="err">Rango_Precio    99289 non-null object</span>
<span class="c">dtypes: category(1), float64(2), object(9)</span>
<span class="err">memory usage: 11.7+ MB</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/chartchooserincolor.jpg?raw=true"></p>
<h3><a href="#header-3"></a> Representacion grafica</h3>
<p>La representacion grafica de las variables variara segun lo que se quiera observar:
1. Comparacion: el objetivo es comparar atributos, puede ser un grafico de barras o puntos.
2. Relaciones: Comprender la relacion entre dos o mas atributos. Para determinar si existe un patron entre dos variables numericas.
3. Composicion : Comprender como se compone una variable, diagrama de torta o e barras
4. Distribucion: Esta categoria permite observar como se distribuyen los datos. Suele utilizarse en la exploracion de los datos, el tipo de grafico dependera a que tipo de variable corresponda el atributo, ya sea cuantitativo o cualitativo.</p>
<p>Los atributos categoricos pueden ser representados por un grafico de sectores o Torta, los cuales son para observar la composicion del atributo, lo ideal es que sean pocas categoricas para que sea mas claro.</p>
<p>Tambien se debe considerar el tipo de variable al escoger el grafico, en la siguiente pagina </p>
<h4><a href="#header-4"></a> Composicion</h4>
<ol>
<li>
<p>Atributo Pais.
    Para escoger el tipo de grafico ya sea atraves de items o en el tiempo, necesito saber que tipo de datos tiene este atributo por ende aplicare dos metodos previos a la eleccion del grafico, info y describe.</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-pais-info.png?raw=true"></p>
<p>como la variable es de tipo object entonces solo se despliegan 4 mediciones estadisticas, en la cual se observa que existen 150925 elementos, de los cuales 48 son unicos, el mas frecuente es US con una cantidad de apariciones de 62397.</p>
<p>Para observar previamente la distribucion de los elementos dentro de cada valor unico, ocupare value_counts()</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-value_counts.png?raw=true"></p>
<p>Si deseo ver porcentualmente los valores :</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>    <span class="n">paises</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Pais&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">entonces teniendo en cuenta la sugerencia de graficos como la composicion es estatica y solo quiero demostrar el total escogi un grafico de torta o pie</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code>    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Pais&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="o">!</span><span class="p">[](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">c3rssei</span><span class="o">/</span><span class="n">c3rssei</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="nb">blob</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">assets</span><span class="o">/</span><span class="n">vinos</span><span class="o">-</span><span class="n">grafico1</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="n">png</span><span class="o">?</span><span class="n">raw</span><span class="o">=</span><span class="k">true</span><span class="p">)</span>

<span class="n">por</span> <span class="n">temas</span> <span class="n">de</span> <span class="n">visualizacion</span> <span class="n">quizas</span> <span class="n">seria</span> <span class="n">mejor</span> <span class="n">mostrar</span> <span class="n">solo</span> <span class="n">aquellos</span> <span class="n">mayores</span> <span class="n">a</span> <span class="mi">2</span><span class="o">%</span> <span class="n">y</span> <span class="n">los</span> <span class="n">demas</span> <span class="n">como</span> <span class="n">otros</span><span class="p">,</span> <span class="n">para</span> <span class="n">evitar</span> <span class="n">se</span> <span class="n">monten</span> <span class="n">uno</span> <span class="n">sobre</span> <span class="n">otro</span><span class="p">.</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code>    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
    <span class="n">paises</span><span class="p">[</span><span class="n">paises</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>


<ol>
<li>Atributo Designacion</li>
</ol>
<p>La designacion es una indicacion geografica utilizada para designar los vinos de una zona viticola.
 ```python
data["Designacion"].describe()</p>
<div class="highlight"><pre><span></span><code>    <span class="k">count</span>       <span class="mi">27278</span>
    <span class="k">unique</span>      <span class="mi">14960</span>
    <span class="n">top</span>       <span class="n">Reserve</span>
    <span class="n">freq</span>          <span class="mi">541</span>
    <span class="n">Name</span><span class="p">:</span> <span class="n">Designacion</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="k">object</span>

<span class="n">son</span> <span class="n">bastantes</span> <span class="n">categorias</span> <span class="n">asi</span> <span class="n">que</span> <span class="n">por</span> <span class="n">temas</span> <span class="n">de</span> <span class="n">visualizacion</span> <span class="n">solo</span> <span class="n">se</span> <span class="n">utiliza</span> <span class="n">los</span> <span class="mi">50</span> <span class="n">primeros</span> <span class="n">en</span> <span class="n">orden</span> <span class="n">de</span> <span class="n">mayor</span> <span class="n">aparicion</span> <span class="n">a</span> <span class="n">menor</span><span class="p">.</span>

<span class="o">```</span><span class="n">python</span>
<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="k">data</span><span class="p">[</span><span class="ss">&quot;Designacion&quot;</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">).</span><span class="n">plot</span><span class="p">.</span><span class="n">bar</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-grafico.1.3.png?raw=true"></p>
<ol>
<li>Atributo Puntos</li>
</ol>
<p>El atributo puntos es la calificaccion del vino.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">count    38294.000000</span>
<span class="err">mean        88.382279</span>
<span class="err">std          3.111449</span>
<span class="err">min         80.000000</span>
<span class="err">25%         86.000000</span>
<span class="err">50%         88.000000</span>
<span class="err">75%         91.000000</span>
<span class="err">max        100.000000</span>
<span class="c">Name: Puntos, dtype: float64</span>
</code></pre></div>


<p>los puntos se encuentran en un rango de 80-100, para visualizar utilizare rangos:
    80-86 : Malo
    86-88 : Regular
    88-91 : Bueno
    91-100 : Excelente</p>
<div class="highlight"><pre><span></span><code><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
<span class="n">names</span> <span class="o">=</span><span class="p">[</span><span class="s2">&quot;Malo&quot;</span><span class="p">,</span><span class="s2">&quot;Regular&quot;</span><span class="p">,</span><span class="s2">&quot;Bueno&quot;</span><span class="p">,</span><span class="s2">&quot;Excelente&quot;</span><span class="p">]</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">],</span><span class="n">bins</span> <span class="o">=</span> <span class="n">bins</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">names</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-grafico.1.4.png?raw=true"></p>
<ol>
<li>Atributo Precio</li>
</ol>
<p>El atributo precio es de tipo float,corresponde a una variable numerica continua.
 le aplico primero el metodo describe</p>
<div class="highlight"><pre><span></span><code><span class="err">count    40697.000000</span>
<span class="err">mean        35.607367</span>
<span class="err">std         43.700403</span>
<span class="err">min          4.000000</span>
<span class="err">25%         17.000000</span>
<span class="err">50%         25.000000</span>
<span class="err">75%         42.000000</span>
<span class="err">max       2300.000000</span>
<span class="c">Name: Precio, dtype: float64</span>
</code></pre></div>


<p>Mi primera intencion para graficar la composicion de este atributo es utilizar un grafico de barras pero como son demasiados precios ni el de barra ni el de sectores es muy conveniente ya que los valores se montan uno sobre otro.</p>
<p>por tanto creare rangos,utilizando la siguiente funcion:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>
<span class="k">def</span> <span class="nf">rango_precio</span><span class="p">(</span><span class="n">precio</span><span class="p">):</span>
  <span class="k">if</span><span class="p">(</span><span class="n">precio</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;1-30&#39;</span>
  <span class="k">elif</span><span class="p">(</span><span class="n">precio</span><span class="o">&lt;=</span><span class="mi">50</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;31-50&#39;</span>
  <span class="k">elif</span><span class="p">(</span><span class="n">precio</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;51-100&#39;</span>
  <span class="k">elif</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">precio</span><span class="p">)):</span>
    <span class="k">return</span> <span class="s1">&#39;0&#39;</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="s1">&#39;Sobre 100&#39;</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango_Precio&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">rango_precio</span><span class="p">)</span>

<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango_Precio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.5.png?raw=true"></p>
<ol>
<li>Atributo Provincia</li>
</ol>
<p>Este atributo es de tipo categorica y corresponde a una variable nominal ya que no existe un orden dentro de las categorias.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Provincia&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">count         150925</span>
<span class="err">unique           455</span>
<span class="err">top       California</span>
<span class="err">freq           44508</span>
<span class="c">Name: Provincia, dtype: object</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Provincia&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.6.png?raw=true"></p>
<ol>
<li>Atributo Region -1 </li>
</ol>
<p>El atributo region tambien corresponde a una categoria del tipo nominal.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">count          125870</span>
<span class="err">unique           1236</span>
<span class="err">top       Napa Valley</span>
<span class="err">freq             6209</span>
<span class="c">Name: Region-1, dtype: object</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.7.png?raw=true"></p>
<ol>
<li>Atributo Region -2 </li>
</ol>
<p>Region 2 al igual que el anterior es categorica y nominal, a diferencia de region-1 contiene un total de 18 regiones y 89977 valores nulos.</p>
<div class="highlight"><pre><span></span><code><span class="c1">#Cantidad de valores Region-2</span>
<span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-2&quot;</span><span class="p">])</span>

<span class="c1">#Cantidad de valores unicos</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">count             60953</span>
<span class="err">unique               18</span>
<span class="err">top       Central Coast</span>
<span class="err">freq              13057</span>
<span class="c">Name: Region-2, dtype: object</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">frecuencia</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Region-2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">frecuencia</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">frecuencia</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-grafico.1.8.png?raw=true"></p>
<ol>
<li>Atributo Variedad</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Variedad&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-grafico1.1.png?raw=true"></p>
<ol>
<li>Atributo Bodega</li>
</ol>
<p>El atributo bodega corresponde a una categoria de tipo nominal, en total son 14810 categorias.</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Bodega&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="err">count              150930</span>
<span class="err">unique              14810</span>
<span class="err">top       Williams Selyem</span>
<span class="err">freq                  374</span>
<span class="c">Name: Bodega, dtype: object</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="n">Frecuencia</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Bodega&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Frecuencia</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Frecuencia</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribucion de calificacion de vinos segun bodega&#39;</span><span class="p">);</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.9.png?raw=true"></p>
<h4><a href="#header-4"></a> Relaciones</h4>
<p>Segun la ayuda de eleccion de graficos, las relaciones son mediante graficos de dispersion o de burbujas.</p>
<p>entre las dos variables continuas del conjunto</p>
<p>Precio vs Puntos.</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">][</span><span class="s2">&quot;Precio&quot;</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango&quot;</span><span class="p">])</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.10.png?raw=true"></p>
<p>tambien se puede utilizar joinplot, esta a diferencia de scatter muestra la relacion entre las variables y sus respectivos histogramas para ver la distribucion</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.21.png?raw=true"></p>
<h4><a href="#header-4"></a> Distribucion</h4>
<p>Los gráficos de distribución/histogramas se usan para conocer la frecuencia de los como valores de una variable y responden a preguntas del estilo:</p>
<p><strong>¿Número de clientes qué tengo por grupo de edad? ¿Cuántos días tardan nuestros pagos?</strong></p>
<p>Si la representación es de una única variable y son pocos los datos que hay se utiliza gráficos de barras (Bar histogram). Por ejemplo: Número de habitantes por Comunidad Autónoma.</p>
<p>Si la representación es de una única variable y hay muchos datos se utilizan gráfico lineales (Line histogram).</p>
<p>Si se quiere representar dos variables hay varias opciones como utilizar gráfico de Scatter plot o de barras con distinto color o varios gráficos.
Extraido de --&gt; <a href="https://about.sofia2.com/2017/09/04/analitica-de-datos-con-python-y-sofia2-14-graficos-de-distribucion/">analitica-de-datos-con-python-y-sofia2-14-graficos-de-distribucion</a>.</p>
<ol>
<li>Atributo Precio</li>
</ol>
<p>Para esto utilizare el metodo distplot de seaborn, es importante entregar un conjunto de <strong>valores sin nulos.</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.11.png?raw=true"></p>
<p>Se aprecia una gran cantidad de vinos entre 0-200.</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.11.1.png?raw=true"></p>
<p>ahora sabemos que la mayor cantidad de vino oscilan entre 0-50 dolares.
la media y la mediana se encuentran en precios menor a 100 dolares.</p>
<ol>
<li>Atributo Puntos</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.12.png?raw=true"></p>
<p>donde existe mas o menos una distribucion mas o menos simetrica.</p>
<h4><a href="#header-4"></a> Comparacion</h4>
<p>A traves del tiempo o entre categorias.</p>
<p>En este tipo de graficos se utiliza principalmente el grafico de barras, <strong>es necesario que al menos uno de los ejes sea numerico</strong></p>
<p>Por ende en las combinaciones estara precio o puntos.</p>
<ol>
<li>Precio segun Pais</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Pais&quot;</span><span class="p">],</span><span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">],</span><span class="n">hue</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Rango_Precio&quot;</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.13.png?raw=true"></p>
<p>Podemos observar que los aportes de vinos segun precio de los diferentes paises, los vinos mas caros mayoritariamente son aportados por hungria y alemania.</p>
<ol>
<li>Puntos segun pais</li>
</ol>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.14.png?raw=true"></p>
<ol>
<li>Calificaccion de vinos por variedad</li>
</ol>
<p>Mi primera intencion fue realizar el grafico de igual forma que los anteriores</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Variedad&quot;</span><span class="p">],</span><span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">],</span><span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>


<p>pero son demasidas categorias "Variedad" la imagen no se puede apreciar bien, inclusive agrandadola como lo anote antes con el metodo figsize.</p>
<p>asi que ordene los valores, y grafique los 10 variedades mejores y peores puntuadas.</p>
<div class="highlight"><pre><span></span><code><span class="n">variedadsort</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Variedad&quot;</span><span class="p">)[</span><span class="s2">&quot;Puntos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.15.png?raw=true"></p>
<ol>
<li>Precio de vinos segun variedad</li>
</ol>
<p>Esta comparacion es mas complicada que las anteriores ya que existe varios vinos que no presentan valores de precio, recordando que existe 99289 vinos en el conjunto y solo 89623 tienen precio.</p>
<p>se puede realizar el grafico de manera usual osea:</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Variedad&quot;</span><span class="p">],</span><span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>


<p>pero queda un grafico monstruoso en donde no se puede apreciar con claridad cada variedad de vino, entonces intente dos alternativas, obtener las variedades con los precios mas altos mediante group by o con pivot table</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-groupby-variedad-precio.png?raw=true"></p>
<p><strong>Para obtener los valores ordenados de manera ascendente, recuerda el parametro ascending = False</strong></p>
<p>La diferencia entre group by y pivot table, es que el primero no quita los valores nulos mientras que pivot table tiene un parametro especificamente para eso <strong>dropna[boolean, default True]</strong></p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vinos-pivot-table-variedad-precio.png?raw=true"></p>
<p>Entonces el grafico con los 10 precios promedio mas alto segun las variedades es:</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.15.png?raw=true"></p>
<p>Referencia: https://pbpython.com/pandas-pivot-table-explained.html</p>
<ol>
<li>Precios segun las puntuacion</li>
</ol>
<p>Para realizar este grafico, por temas de aprendizaje realice primero una tabla auxiliar con pivot table,</p>
<div class="highlight"><pre><span></span><code><span class="n">preciopuntuacion</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;Puntos&quot;</span><span class="p">,</span><span class="n">values</span><span class="o">=</span><span class="s2">&quot;Precio&quot;</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
<span class="n">preciopuntuacion</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.20.png?raw=true"></p>
<ul>
<li>El precio aumenta si la puntuacion lo hace, los vinos mas caros tienen la mejor calificaccion</li>
</ul>
<h4><a href="#header-4"></a> Histogramas</h4>
<p>si la variable es numerica entonces es llamado histograma, la variable x esta dento de rangos, lo usual es que los rangos sean iguales, dentro de cada rango se despliega la barra con la cantidad de observaciones en ese rango.</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span> <span class="c1"># Tamaño de la figura</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">200</span><span class="p">][</span><span class="s2">&quot;Precio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</code></pre></div>


<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico1.png?raw=true"></p>
<p>idem sns.distplot()</p>
<h4><a href="#header-4"></a> Boxplot</h4>
<p>los graficos de tipo boxplot permiten <strong>Visualizar una variable numerica</strong>, utila valores <strong>Cuartiles</strong>,<strong>Extremos</strong>,<strong>valores raros o outiers</strong></p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/boxplot-quartiles.jpg?raw=true"></p>
<ol>
<li>Atributo Precio</li>
</ol>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.16.png?raw=true"></p>
<h4><a href="#header-4"></a> Pivot Table</h4>
<p>Similar a las tablas temporales de sql, permite seleccionar ciertos atributos del conjunto de datos, agrupa en base a un indice mediante el parametro <strong>index</strong>, a su vez pueden mostrar estimadores estadisticos ya sea promedio o un conjunto de estos.</p>
<ol>
<li>pd.pivot_table(index=["Atributo","Atributo2","Atributo n"])</li>
<li>pd.pivot_table(index,values="Atributo",aggfunc=["mean",np.median])</li>
</ol>
<p>a su vez la tabla generada permite hacerle un query</p>
<p>tab.query("Variedad ==['Agiorgitiko']")</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.18.png?raw=true">
<img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.19.png?raw=true"></p>
<h4><a href="#header-4"></a> Catplot</h4>
<p>Catplot es un tipo de grafico de dispersion categorica.</p>
<p><img alt="" src="https://github.com/c3rssei/c3rssei.github.io/blob/master/assets/vino-grafico.1.22.png?raw=true"></p>
</div>
		</div>
	</body>
</html>